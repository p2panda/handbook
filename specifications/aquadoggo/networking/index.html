<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-specifications/aquadoggo/networking/networking" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Networking | p2panda</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://p2panda.org/specifications/aquadoggo/networking/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Networking | p2panda"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="icon" href="/images/deepsea-panda.svg"><link data-rh="true" rel="canonical" href="https://p2panda.org/specifications/aquadoggo/networking/"><link data-rh="true" rel="alternate" href="https://p2panda.org/specifications/aquadoggo/networking/" hreflang="en"><link data-rh="true" rel="alternate" href="https://p2panda.org/specifications/aquadoggo/networking/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="p2panda News RSS Feed"><link rel="stylesheet" href="/assets/css/styles.862b1275.css">
<script src="/assets/js/runtime~main.d75b26e2.js" defer="defer"></script>
<script src="/assets/js/main.97848bd4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><div class="navbar__brand"><div class="navbar__logo"><img src="/images/p2panda-book.png" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/p2panda-book.png" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></div></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/p2panda-book.png" alt="p2panda Handbook" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/p2panda-book.png" alt="p2panda Handbook" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/about/">About</a><a class="navbar__item navbar__link" href="/learn/">Learn</a><a class="navbar__item navbar__link" href="/tutorials/">Tutorials</a><a class="navbar__item navbar__link" href="/sdks/">SDKs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/specifications/">Specifications</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/faq">FAQ</a><a class="navbar__item navbar__link" href="/links">Links</a><a class="navbar__item navbar__link" href="/contact">Contact</a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/images/p2panda-book.png" alt="p2panda Handbook" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/p2panda-book.png" alt="p2panda Handbook" class="themedComponent_mlkZ themedComponent--dark_xIcU"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/specifications/">Specifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/specifications/namakemono/">namakemono</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/specifications/aquadoggo/">aquadoggo API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/key-concepts">Key Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/specifications/aquadoggo/data-types/bamboo">Core data types</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/specifications/aquadoggo/APIs/overview">APIs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/specifications/aquadoggo/networking/clients-nodes">Networking</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/networking/clients-nodes">Clients and nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/specifications/aquadoggo/networking/">Networking</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/replication">Replication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/encoding-data">Canonical Encoding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/glossary">Glossary</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><img src="/images/deepsea-panda.svg" width="30" class="icon-home_wWeS"></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">aquadoggo API</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Networking</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Networking</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Networking</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>p2panda doesn&#x27;t have a strict specification around it&#x27;s networking layer. We
want p2panda to be used in all sorts of contexts, let it be Low-Energy
Bluetooth, LoRa, Tor, Mesh Networks, internet or anything else.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="terminology">Terminology<a href="#terminology" class="hash-link" aria-label="Direct link to Terminology" title="Direct link to Terminology">​</a></h2>
<ul>
<li>In p2panda <em>nodes</em> participate actively in the network, storing and replicating
data with each other.</li>
<li>In order to achieve this, certain networking guarantees need to be met:<!-- -->
<ul>
<li>Nodes must know or be able to discover the addresses of other nodes on
their network</li>
<li>Nodes must be able to establish (uni- or bi-directional) channels of
communication with other nodes at these known addresses</li>
</ul>
</li>
<li>Patterns needed for achieving these conditions can be described as
<em>discovery</em> and <em>connectivity</em>.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><span class="panda-icon">🐼</span></span>info</div><div class="admonitionContent_BuS1"><p>While the current <a href="/specifications/aquadoggo/replication">replication protocol</a> assumes a bi-directional communication
channel it would be theoretically possible to build p2panda on top of a
broadcast-only networking topology (for example on top of LoRa or other radio
protocols). The append-only nature of the underlying p2panda data type make
this a good fit.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="strategies">Strategies<a href="#strategies" class="hash-link" aria-label="Direct link to Strategies" title="Direct link to Strategies">​</a></h2>
<p>Rather than giving strict requirements we are listing currently known,
implemented and recommended strategies for different networks to achieve
connectivity and discovery of nodes.</p>
<p>Developers can see these recommendations as starting points for their own
approaches, experiment with their own or fork and build on top of them.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="internet-layer-with-libp2p">Internet layer with libp2p<a href="#internet-layer-with-libp2p" class="hash-link" aria-label="Direct link to Internet layer with libp2p" title="Direct link to Internet layer with libp2p">​</a></h3>
<p>To achieve discovery and connectivity on top of the internet layer in the
internet protocol suite we&#x27;ve successfully implemented a stack based on top of
the <a href="https://libp2p.io" target="_blank" rel="noopener noreferrer">libp2p</a> protocol using <a href="https://en.wikipedia.org/wiki/QUIC" target="_blank" rel="noopener noreferrer">QUIC</a> with TLS encryption as the underlying
transport layer.</p>
<p>libp2p is a collection of general purpose, modular, p2p networking protocols.
It solves discovery of nodes in local networks (via mDNS) and the internet (via
Rendezvous nodes) and establishes connectivity between them, even when they are
behind firewalls or NATs (via UDP holepunching and / or Relay nodes).</p>
<p>This strategy is currently implemented in our <a href="https://github.com/p2panda/aquadoggo/" target="_blank" rel="noopener noreferrer"><code>aquadoggo</code></a> reference
implementation.</p>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="core-abstractions">Core Abstractions<a href="#core-abstractions" class="hash-link" aria-label="Direct link to Core Abstractions" title="Direct link to Core Abstractions">​</a></h4>
<p>libp2p comes with its own set of core abstractions and data types which are
used throughout the system. While p2panda does <em>not</em> make use of them in its
own core specification, they are part of this strategy.</p>
<ul>
<li><a href="https://github.com/libp2p/specs/blob/master/addressing/README.md" target="_blank" rel="noopener noreferrer">Addressing</a>
<ul>
<li>Working with addresses in libp2p.</li>
</ul>
</li>
<li><a href="https://github.com/libp2p/specs/blob/master/connections/README.md" target="_blank" rel="noopener noreferrer">Connections and
Upgrading</a>
<ul>
<li>Establishing secure, multiplexed connections between nodes, possibly over
insecure, single stream transports.</li>
</ul>
</li>
<li><a href="https://github.com/libp2p/specs/blob/master/peer-ids/peer-ids.md" target="_blank" rel="noopener noreferrer">Peer Ids and
Keys</a> -
Public key types &amp; encodings, peer id calculation, and message signing
semantics</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="diagram">Diagram<a href="#diagram" class="hash-link" aria-label="Direct link to Diagram" title="Direct link to Diagram">​</a></h4>
<div class="image-frame_fg61"><div class="image-frame-inner_Xabn"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAICAYAAADA+m62AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/klEQVR4nBXQT1OCQABAcb7/d+jYpanp1qHxWjaYpoZZICFqShjsLsv+EWd8Dad3fr9AtQ6pHdZ7FpHnbeyZzzzjULMvLMpYhHYEUluc7xglK6aTJ9IoJIleSeKWqnZ05zPWdwTr5Rffs4hCaMosQ+Y5It/QcSH7FIwfdyzDkkBIybGqiUXB5K5geLVjdP2DqmL22x3JckO+PhBkmeH9o+F+mpJENat5Tbqo+I1vUGKL6S5o5wnCYcNgIHmYlEjrsecTpjvRiAzVCKT2qNYSlEdLtm25fT5Q1gbRGGplCF8s+4NDW4fqr7VzKOtYFxrRWHqFvvmm5U9YGuPoCf8BiNon76cMUJsAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="1287" height="970"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/networking-flow-diagram.02a26da.1287.png" srcset="/assets/ideal-img/networking-flow-diagram.02a26da.1287.png 1287w" alt="Flow diagram of aquadoggo networking strategy by @glyph" width="1287" height="970"></noscript></div></div><div class="image-frame-title_UNlE">Flow diagram of aquadoggo networking strategy by @glyph</div></div>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="transport-layer">Transport Layer<a href="#transport-layer" class="hash-link" aria-label="Direct link to Transport Layer" title="Direct link to Transport Layer">​</a></h4>
<ul>
<li><code>aquadoggo</code> uses <a href="https://en.wikipedia.org/wiki/QUIC" target="_blank" rel="noopener noreferrer">QUIC</a> as the transport
layer for communication between nodes</li>
<li><code>libp2p</code> QUIC specification: <a href="https://github.com/libp2p/specs/tree/master/quic" target="_blank" rel="noopener noreferrer">https://github.com/libp2p/specs/tree/master/quic</a></li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="discovery">Discovery<a href="#discovery" class="hash-link" aria-label="Direct link to Discovery" title="Direct link to Discovery">​</a></h4>
<ul>
<li>Addresses can be added manually if they&#x27;re known and static</li>
<li>On the same local network, discovery is achieved via mDNS</li>
<li>Otherwise we&#x27;re utilising <em>Rendezvous Nodes</em> to allow discovery over the
internet for nodes with dynamic addresses</li>
</ul>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="mdns">mDNS<a href="#mdns" class="hash-link" aria-label="Direct link to mDNS" title="Direct link to mDNS">​</a></h5>
<ul>
<li>Nodes existing on the same LAN can discover each other over mDNS and then
initiate connections</li>
<li><code>libp2p</code> mDNS discovery specification:
<a href="https://github.com/libp2p/specs/blob/master/discovery/mdns.md" target="_blank" rel="noopener noreferrer">https://github.com/libp2p/specs/blob/master/discovery/mdns.md</a></li>
</ul>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rendezvous-nodes">Rendezvous Nodes<a href="#rendezvous-nodes" class="hash-link" aria-label="Direct link to Rendezvous Nodes" title="Direct link to Rendezvous Nodes">​</a></h5>
<ul>
<li>A rendezvous server handles registering new nodes and making their addresses
known to other nodes on the same network</li>
<li><code>libp2p</code> rendezvous server specification:
<a href="https://github.com/libp2p/specs/tree/master/rendezvous" target="_blank" rel="noopener noreferrer">https://github.com/libp2p/specs/tree/master/rendezvous</a></li>
<li>Any node on the network can act as a rendezvous node</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="identity">Identity<a href="#identity" class="hash-link" aria-label="Direct link to Identity" title="Direct link to Identity">​</a></h4>
<ul>
<li><code>libp2p</code> relies on the identify protocol to exchange basic information
between nodes. This includes identification of external addresses, exhange of
unique identifiers and supported network protocols</li>
<li>The identify protocol provides a vital mechanism for a node to learn it&#x27;s
external address before registering with a rendezvous server. Without this
information, rendezvous registration will fail</li>
<li>p2panda does not have a strong recommendation around node identities. The
identity is derived from the key pair and hashed to not leak the original
public key. It is possible to generate the key pair newly on each start of a
node</li>
<li><code>libp2p</code> identify protocol specification:
<a href="https://github.com/libp2p/specs/tree/master/identify" target="_blank" rel="noopener noreferrer">https://github.com/libp2p/specs/tree/master/identify</a></li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="connectivity">Connectivity<a href="#connectivity" class="hash-link" aria-label="Direct link to Connectivity" title="Direct link to Connectivity">​</a></h4>
<ul>
<li>Once nodes have discovered each other, then they need to be able to establish
a connection. As stated above, <code>aquadoggo</code> uses QUIC as the transport layer
for all application data. However, nodes often exhibit different networking
capabilities depending on several factors:<!-- -->
<ul>
<li>Do they have a static ip?</li>
<li>Are they publicly accessible over the internet?</li>
<li>Are they behind a public or private NAT or firewall?</li>
</ul>
</li>
<li>Strategies for answering these questions dynamically and negotiating how a
connection can be established are required</li>
</ul>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="direct-connection">Direct connection<a href="#direct-connection" class="hash-link" aria-label="Direct link to Direct connection" title="Direct link to Direct connection">​</a></h5>
<ul>
<li>The easiest situation is that one node has a public IP address, in this case
it can be dialed by the other node on it&#x27;s libp2p multiaddress</li>
<li>Nodes listen on their announced multiaddresses for incoming connections</li>
<li><code>libp2p</code> connection specification: <a href="https://github.com/libp2p/specs/tree/master/connections" target="_blank" rel="noopener noreferrer">https://github.com/libp2p/specs/tree/master/connections</a></li>
</ul>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="relayed-connection">Relayed connection<a href="#relayed-connection" class="hash-link" aria-label="Direct link to Relayed connection" title="Direct link to Relayed connection">​</a></h5>
<ul>
<li>If a node wishes to connect to a second node that is not publicly
addressable, a third node with a public address can act as a relay for their
messages</li>
<li>Nodes listen on their announced relay multiaddress for incoming, relayed
connections</li>
<li><code>libp2p</code> relay specification: <a href="https://github.com/libp2p/specs/blob/master/relay/circuit-v2.md" target="_blank" rel="noopener noreferrer">https://github.com/libp2p/specs/blob/master/relay/circuit-v2.md</a></li>
</ul>
<h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="direct-connection-upgrade-through-relay-dcutr">Direct Connection Upgrade through Relay (DCUtR)<a href="#direct-connection-upgrade-through-relay-dcutr" class="hash-link" aria-label="Direct link to Direct Connection Upgrade through Relay (DCUtR)" title="Direct link to Direct Connection Upgrade through Relay (DCUtR)">​</a></h5>
<ul>
<li>Where possible, relayed traffic will be upgraded to a direct connection</li>
<li>This involves a process of gathering knowledge about the nature of the NAT a
node is hidden behind and then negotiating a hole-punching procedure which
ultimately results in a direct connection being established</li>
<li>This is not always successful, using QUIC improves the chances of success</li>
<li><code>libp2p</code> DCUtR specification: <a href="https://github.com/libp2p/specs/blob/master/relay/DCUtR.md" target="_blank" rel="noopener noreferrer">https://github.com/libp2p/specs/blob/master/relay/DCUtR.md</a></li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="aquadoggo-networking-modes"><code>aquadoggo</code> networking modes<a href="#aquadoggo-networking-modes" class="hash-link" aria-label="Direct link to aquadoggo-networking-modes" title="Direct link to aquadoggo-networking-modes">​</a></h4>
<ul>
<li>In order to enable discovery and facilitate connectivity as a/for edge nodes,
any node on the network can serve the above protocols in &quot;client&quot; and/or
&quot;server&quot; mode. In short, an aquadoggo node can function in the following
modes:<!-- -->
<ul>
<li>Rendezvous server</li>
<li>Rendezvous client</li>
<li>Relay server</li>
<li>Relay client</li>
</ul>
</li>
<li>The network modes can also be combined. For example, a node may run as both a
relay client and rendezvous client or both a relay server and rendezvous
server.</li>
</ul>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="security-and-privacy">Security and privacy<a href="#security-and-privacy" class="hash-link" aria-label="Direct link to Security and privacy" title="Direct link to Security and privacy">​</a></h4>
<ul>
<li>These strategies allow very flexible discovery and connectivity building
blocks which vary drastically in terms of privacy and security. While
<code>aquadoggo</code> by default opts into the most secure setting, depending on the
security and privacy requirements of an application different measures should
be taken into account</li>
<li>Utilising Rendezvous and Relay nodes might leak IP addresses on the internet,
potentially with untrusted and unknown nodes. It is recommended to keep a
table of known IP addresses instead and only connect to them. If this is not
an option, it is recommended to run p2panda over an anonymization layer like
Tor. If Tor is not an option it is possible to only create data in a
federated setting where a trusted node is statically hosted and used by
multiple clients. This node will <em>not</em> forward IP addresses from clients</li>
<li>Nodes can connect to each other as soon as they are discovered and speak the
same protocol. In case it is required to isolate your network from other
&quot;valid&quot; nodes but still keeping dynamic discovery intact, a form of protected
overlay network is recommended. This can be achieved with making use of VPNs
or adding authentication to centralised and known rendezvous points. &quot;Network
keys&quot; and such are currently not supported by libp2p / QUIC and also not
recommended (redundant and expensive double encryption of transported data)</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="tor-strategy">Tor Strategy<a href="#tor-strategy" class="hash-link" aria-label="Direct link to Tor Strategy" title="Direct link to Tor Strategy">​</a></h3>
<p>An integration of onion services in <code>aquadoggo</code> is pending as soon as the Rust
port <code>arti</code> is ready. For now it can still be achieved with wrapping the node
around an external onion service layer.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/specifications/aquadoggo/networking/clients-nodes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Clients and nodes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/specifications/aquadoggo/replication"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Replication</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#terminology" class="table-of-contents__link toc-highlight">Terminology</a></li><li><a href="#strategies" class="table-of-contents__link toc-highlight">Strategies</a><ul><li><a href="#internet-layer-with-libp2p" class="table-of-contents__link toc-highlight">Internet layer with libp2p</a></li><li><a href="#tor-strategy" class="table-of-contents__link toc-highlight">Tor Strategy</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer_J6tW"><img class="footer-img__0Xc" src="/images/deepsea-panda.svg" width="100"><div><img class="supporters-img_P2oV" src="/images/nlnet-logo.svg" width="140"><img class="supporters-img_P2oV" src="/images/ngi-logo.png" width="200"><img class="supporters-img_P2oV" src="/images/eu-flag-logo.png" width="78"><p class="footer-text_MXRq">This project has received funding from the European Union’s Horizon 2020 research and innovation programme within the framework of the NGI-POINTER Project funded under grant agreement No 871528, NGI-ASSURE No 957073 and NGI0-ENTRUST No 101069594</p></div><p class="footer-text_MXRq">CC BY-SA 4.0<!-- --> - <a href="/contact">Contact</a> -<!-- --> <a href="https://autonomous.zone/@p2panda" target="_blank" rel="noreferrer">Fediverse</a></p></footer></div>
</body>
</html>