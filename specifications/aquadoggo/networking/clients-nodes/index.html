<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-specifications/aquadoggo/networking/clients-nodes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Clients and nodes | p2panda</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://p2panda.org/specifications/aquadoggo/networking/clients-nodes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Clients and nodes | p2panda"><meta data-rh="true" name="description" content="- p2panda has a clear separation of clients and nodes to allow flexible setups and make client development easier"><meta data-rh="true" property="og:description" content="- p2panda has a clear separation of clients and nodes to allow flexible setups and make client development easier"><link data-rh="true" rel="icon" href="/images/deepsea-panda.svg"><link data-rh="true" rel="canonical" href="https://p2panda.org/specifications/aquadoggo/networking/clients-nodes"><link data-rh="true" rel="alternate" href="https://p2panda.org/specifications/aquadoggo/networking/clients-nodes" hreflang="en"><link data-rh="true" rel="alternate" href="https://p2panda.org/specifications/aquadoggo/networking/clients-nodes" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="p2panda News RSS Feed"><link rel="stylesheet" href="/assets/css/styles.862b1275.css">
<script src="/assets/js/runtime~main.ef19c589.js" defer="defer"></script>
<script src="/assets/js/main.97848bd4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><div class="navbar__brand"><div class="navbar__logo"><img src="/images/p2panda-book.png" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/p2panda-book.png" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></div></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/p2panda-book.png" alt="p2panda Handbook" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/p2panda-book.png" alt="p2panda Handbook" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/about/">About</a><a class="navbar__item navbar__link" href="/learn/">Learn</a><a class="navbar__item navbar__link" href="/tutorials/">Tutorials</a><a class="navbar__item navbar__link" href="/sdks/">SDKs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/specifications/">Specifications</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/faq">FAQ</a><a class="navbar__item navbar__link" href="/links">Links</a><a class="navbar__item navbar__link" href="/contact">Contact</a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/images/p2panda-book.png" alt="p2panda Handbook" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/images/p2panda-book.png" alt="p2panda Handbook" class="themedComponent_mlkZ themedComponent--dark_xIcU"></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/specifications/">Specifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/specifications/namakemono/">namakemono</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/specifications/aquadoggo/">aquadoggo API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/key-concepts">Key Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/specifications/aquadoggo/data-types/bamboo">Core data types</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/specifications/aquadoggo/APIs/overview">APIs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/specifications/aquadoggo/networking/clients-nodes">Networking</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/specifications/aquadoggo/networking/clients-nodes">Clients and nodes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/networking/">Networking</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/replication">Replication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/encoding-data">Canonical Encoding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/specifications/aquadoggo/glossary">Glossary</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><img src="/images/deepsea-panda.svg" width="30" class="icon-home_wWeS"></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">aquadoggo API</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Networking</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Clients and nodes</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Clients and nodes</h1></header><ul>
<li>p2panda has a clear separation of clients and nodes to allow flexible setups and make client development easier<!-- -->
<ul>
<li>Nodes do the heavy lifting, they exist to allow clients to be lightweight, easier to implement and potentially running in a browser</li>
</ul>
</li>
<li>Client and node can be integrated in a single software package or run separate from each other - even on different machines<!-- -->
<ul>
<li>One way to integrate node and client is as a <a href="https://tauri.app/" target="_blank" rel="noopener noreferrer">Tauri</a> application, something that is supported by <a href="https://github.com/p2panda/aquadoggo" target="_blank" rel="noopener noreferrer">aquadoggo</a></li>
</ul>
</li>
<li>Both nodes and clients are built on the same <a href="https://github.com/p2panda/p2panda" target="_blank" rel="noopener noreferrer">p2panda</a> library that defines shared data structures</li>
<li>Every key pair is bound to exactly one client and exactly one node<!-- -->
<ul>
<li>A key pair MUST NOT publish data through any client other than the one it was created with</li>
<li>A key pair MUST NOT publish data on any node other than the one it was first used with</li>
<li>Disregard of this rule carries the risk of creating forks within a public key&#x27;s logs. see <a href="/specifications/aquadoggo/authorisation">Key Groups</a> for a way to publish data from multiple devices without copying a private key or changing the node used.</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="nodes">Nodes<a href="#nodes" class="hash-link" aria-label="Direct link to Nodes" title="Direct link to Nodes">​</a></h2>
<ul>
<li>Nodes are computer programs that<!-- -->
<ul>
<li>Awaits signed operations from clients</li>
<li>Verifies the consistency, format and signature of operations and rejects invalid ones</li>
<li>Stores operations of the network in a database</li>
<li>Materializes document views on top of the known operations</li>
<li>Answers filterable and paginated data queries</li>
<li>Discovers other nodes in local network and internet</li>
<li>Replicates data with other nodes</li>
</ul>
</li>
<li>A node can run in different settings which allows it to work offline or online<!-- -->
<ul>
<li>Inside an application on the user&#x27;s computer<!-- -->
<ul>
<li>A dedicated node for only this particular client</li>
<li>This allows running a node as a backend, while the frontend can be a web-view, realized with <a href="https://tauri.app/" target="_blank" rel="noopener noreferrer">Tauri</a></li>
</ul>
</li>
<li>On a dedicated server which is always online<!-- -->
<ul>
<li>This allows using p2panda from a browser without installing software</li>
<li>A node hosted online can be used by many clients (federation)</li>
</ul>
</li>
<li>As a daemon on a user&#x27;s computer<!-- -->
<ul>
<li>Multiple p2panda clients could talk to one node on the same computer</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://github.com/p2panda/aquadoggo" target="_blank" rel="noopener noreferrer">aquadoggo</a> is the reference node implementation</li>
<li>Nodes offer a GraphQL API that is used by <a href="/specifications/aquadoggo/APIs/queries">clients</a></li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><span class="panda-icon">🌩️</span></span>Requirement NO1</div><div class="admonitionContent_BuS1"><p>Entries arriving via the <a href="/specifications/aquadoggo/APIs/publishing">publish</a> and replication APIs MUST be validated against BA1</p></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><span class="panda-icon">🌩️</span></span>Requirement NO2</div><div class="admonitionContent_BuS1"><p>Operations arriving via the <a href="/specifications/aquadoggo/APIs/publishing">publish</a> and replication APIs MUST be validated against all OP requirements</p></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><span class="panda-icon">🌩️</span></span>Requirement NO3</div><div class="admonitionContent_BuS1"><p>Operations arriving via the <a href="/specifications/aquadoggo/APIs/publishing">publish</a> APIs SHOULD be validated against DO1 - D03</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><span class="panda-icon">🐼</span></span>Node Validation Behaviour</div><div class="admonitionContent_BuS1"><p>Although NO1 and NO2 must be fulfilled by a node for all entries arriving via the public APIs, the ablity to perform this validation and the expected behaviour will differ depending on whether the entry arrives via the <a href="/specifications/aquadoggo/APIs/publishing">publish</a> or replication APIs. In the case of the former, all requirements should be validated on arrival against existing entries &amp; operations known to this node, and in the case of a validation failure the entry should be rejected. Where entries are arriving via replication, it may not be possible to immediately perform validation because required data may not have arrived at the node yet.</p></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clients">Clients<a href="#clients" class="hash-link" aria-label="Direct link to Clients" title="Direct link to Clients">​</a></h2>
<ul>
<li>Clients are computer programs that use the p2panda library to<!-- -->
<ul>
<li>Create key pairs</li>
<li>Sign and encode new data and send it to a node</li>
<li>Query a node for existing data to make it available to its users</li>
</ul>
</li>
<li>Clients create key pairs for their users and never transfer private keys out<!-- -->
<ul>
<li>Only clients have access to users&#x27; private keys</li>
</ul>
</li>
<li>Have a look at the <a href="https://github.com/p2panda/beep-boop" target="_blank" rel="noopener noreferrer">beep-boop</a> chat demo for an example of a client</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/specifications/aquadoggo/APIs/blob-http"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Blob HTTP service</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/specifications/aquadoggo/networking/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Networking</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#nodes" class="table-of-contents__link toc-highlight">Nodes</a></li><li><a href="#clients" class="table-of-contents__link toc-highlight">Clients</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer_J6tW"><img class="footer-img__0Xc" src="/images/deepsea-panda.svg" width="100"><div><img class="supporters-img_P2oV" src="/images/nlnet-logo.svg" width="140"><img class="supporters-img_P2oV" src="/images/ngi-logo.png" width="200"><img class="supporters-img_P2oV" src="/images/eu-flag-logo.png" width="78"><p class="footer-text_MXRq">This project has received funding from the European Union’s Horizon 2020 research and innovation programme within the framework of the NGI-POINTER Project funded under grant agreement No 871528, NGI-ASSURE No 957073 and NGI0-ENTRUST No 101069594</p></div><p class="footer-text_MXRq">CC BY-SA 4.0<!-- --> - <a href="/contact">Contact</a> -<!-- --> <a href="https://autonomous.zone/@p2panda" target="_blank" rel="noreferrer">Fediverse</a></p></footer></div>
</body>
</html>