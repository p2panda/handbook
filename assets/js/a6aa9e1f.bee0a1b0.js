"use strict";(self.webpackChunkhandbook=self.webpackChunkhandbook||[]).push([[3089],{3026:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});n(7294);var s=n(512),a=n(9962),r=n(5463),l=n(3702),i=n(7306),c=n(7325),o=n(3672),d=n(5893);function u(e){const{metadata:t}=e,{previousPage:n,nextPage:s}=t;return(0,d.jsxs)("nav",{className:"pagination-nav","aria-label":(0,c.I)({id:"theme.blog.paginator.navAriaLabel",message:"Blog list page navigation",description:"The ARIA label for the blog pagination"}),children:[n&&(0,d.jsx)(o.Z,{permalink:n,title:(0,d.jsx)(c.Z,{id:"theme.blog.paginator.newerEntries",description:"The label used to navigate to the newer blog posts page (previous page)",children:"Newer Entries"})}),s&&(0,d.jsx)(o.Z,{permalink:s,title:(0,d.jsx)(c.Z,{id:"theme.blog.paginator.olderEntries",description:"The label used to navigate to the older blog posts page (next page)",children:"Older Entries"}),isNext:!0})]})}var h=n(3647),x=n(9107),m=n(9348);function p(e){let{items:t,component:n=m.Z}=e;return(0,d.jsx)(d.Fragment,{children:t.map((e=>{let{content:t}=e;return(0,d.jsx)(x.n,{content:t,children:(0,d.jsx)(n,{children:(0,d.jsx)(t,{})})},t.metadata.permalink)}))})}function j(e){const{metadata:t}=e,{siteConfig:{title:n}}=(0,a.Z)(),{blogDescription:s,blogTitle:l,permalink:i}=t,c="/"===i?n:l;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.d,{title:c,description:s}),(0,d.jsx)(h.Z,{tag:"blog_posts_list"})]})}function y(e){const{metadata:t,items:n,sidebar:s}=e;return(0,d.jsxs)(i.Z,{sidebar:s,children:[(0,d.jsx)(p,{items:n}),(0,d.jsx)(u,{metadata:t})]})}function f(e){return(0,d.jsxs)(r.FG,{className:(0,s.Z)(l.k.wrapper.blogPages,l.k.page.blogListPage),children:[(0,d.jsx)(j,{...e}),(0,d.jsx)(y,{...e})]})}},7065:(e,t,n)=>{n.d(t,{Z:()=>r});n(7294);var s=n(9114),a=n(5893);function r(e){let t;return"note"===e.type?t="\ud83d\udc27":"info"===e.type?t="\ud83d\udc3c":"caution"===e.type?t="\ud83c\udf29\ufe0f":"danger"===e.type?t="\ud83d\ude48":"tip"===e.type&&(t="\ud83d\udc3b\u200d\u2744\ufe0f"),(0,a.jsx)(s.Z,{icon:(0,a.jsx)("span",{className:"panda-icon",children:t}),...e})}},8912:(e,t,n)=>{n.d(t,{g:()=>m});var s=n(7294),a=n(3888);const r=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{await(0,a.Y2)(),r(!0)})()}),[]),n?t:null};var l=n(4096),i=n(3729),c=n(8227),o=n(5893);const d=e=>{let{header:t,sayHello:n}=e;return(0,o.jsxs)("header",{className:"header",children:[(0,o.jsx)("h1",{children:t}),n?(0,o.jsx)(l.m.Consumer,{children:e=>{let{publicKey:t}=e;return(0,o.jsxs)("p",{className:"public-key",children:["Hello, ",t,"!"]})}}):null]})},u=()=>{const{error:e}=(0,s.useContext)(i.E);return e?(0,o.jsx)("div",{className:"error",children:e}):null},h=()=>{const{success:e}=(0,s.useContext)(i.E);return e?(0,o.jsx)("div",{className:"success",children:e}):null},x=e=>{let{children:t,header:n}=e;return(0,o.jsxs)("div",{className:"app",children:[(0,o.jsx)(d,{header:n}),(0,o.jsx)("main",{children:t}),(0,o.jsx)(u,{}),(0,o.jsx)(h,{})]})},m=e=>{let{children:t,header:n="",sayHello:s=!1,endpoint:a}=e;return(0,o.jsx)(r,{children:(0,o.jsx)(l.f,{endpoint:a,children:(0,o.jsx)(i.x,{children:(0,o.jsx)(c.n,{children:(0,o.jsx)(x,{header:n,sayHello:s,children:t})})})})})}},3729:(e,t,n)=>{n.d(t,{E:()=>r,x:()=>l});var s=n(7294),a=n(5893);const r=s.createContext(),l=e=>{let{children:t}=e;const[n,l]=(0,s.useState)(null),[i,c]=(0,s.useState)(null);return(0,a.jsx)(r.Provider,{value:{error:n,setError:l,success:i,setSuccess:c},children:t})}},8227:(e,t,n)=>{n.d(t,{O:()=>c,n:()=>o});var s=n(7294),a=n(108),r=n(4096),l=n(3729),i=n(5893);const c=s.createContext(),o=e=>{let{children:t}=e;const{graphQLClient:n}=(0,s.useContext)(r.m),{setError:o}=(0,s.useContext)(l.E),[d,u]=(0,s.useState)();return(0,s.useEffect)((()=>{const e=setInterval((()=>{(async()=>{try{await n.request(a.Ps`
          query checkNode {
            all_schema_definition_v1 {
              totalCount
            }
          }
        `),d||(o(null),u(!0))}catch(e){d&&(u(!1),o("Node offline"))}})()}),1e3);return()=>clearInterval(e)}),[n,d,o]),(0,i.jsx)(c.Provider,{value:{nodeOnline:d},children:t})}},4096:(e,t,n)=>{n.d(t,{f:()=>d,m:()=>o});var s=n(7294),a=n(3888),r=n(108),l=n(5893);const i="privateKey",c="http://localhost:2020";const o=s.createContext({publicKey:null,keyPair:null,session:null,graphQLClient:null,endpoint:null}),d=e=>{let{children:t,endpoint:n=c}=e;const[d,u]=(0,s.useState)(n),h=(0,s.useMemo)((()=>{const e=function(){const e=window.localStorage.getItem(i);if(e)return new a.sx(e);const t=new a.sx;return window.localStorage.setItem(i,t.privateKey()),t}(),t=new a.z_(`${d}/graphql`).setKeyPair(e),n=new r.g6(`${d}/graphql`);return{keyPair:e,publicKey:e.publicKey(),session:t,graphQLClient:n,ep:d}}),[d]);return(0,s.useEffect)((()=>{const e=setInterval((()=>{window.ENDPOINT&&window.ENDPOINT!=n&&u(window.ENDPOINT)}),1e3);return function(){clearInterval(e)}})),(0,l.jsx)(o.Provider,{value:h,children:t})}},8008:(e,t,n)=>{n.d(t,{Eo:()=>l,O6:()=>r,YE:()=>a,kw:()=>s});const s="/schemas/query-tutorial/schema.lock",a="vocabulary_0020840f74f3a3ca502c80b12ba54e5738c435d27e9c0717214a38173a3e31a75752",r="study_sets_002055142f8a42052fe558891fb33b707fa16367ae4ebba876ba900cf4870a352ad6",l="study_set_members_0020c2500c3088b01a98f4a7cfdab6037371ac64d4b929d4677daf39a3aa0c257612"},1022:(e,t,n)=>{n.d(t,{m:()=>i});var s=n(7294),a=n(4096),r=n(3729),l=n(5893);const i=e=>{let{createCafe:t}=e;const{session:n}=(0,s.useContext)(a.m),{setError:i,setSuccess:c}=(0,s.useContext)(r.E),[o,d]=(0,s.useState)({address:"123 Yummy St.",name:"Ice Cream Heaven",opening_year:2020}),u=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:"edible"===t?!e.edible:n})))},h=!o.address||!o.name||!o.opening_year;return(0,l.jsxs)("div",{className:"cafe-form",children:[(0,l.jsx)("h2",{children:"Create Cafe"}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(null),c(null);let s=null;try{s=await t(n,o)}catch(a){return void i(a.message)}c(`Created Cafe: ${s}`)},children:[(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("label",{htmlFor:"name",children:"name"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:u})]}),(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("label",{htmlFor:"address",children:"Address"}),(0,l.jsx)("input",{type:"text",id:"address",name:"address",value:o.address,onChange:u})]}),(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("label",{htmlFor:"opening_year",children:"Opening Year"}),(0,l.jsx)("input",{type:"number",id:"latin",name:"opening_year",value:o.opening_year,onChange:u})]}),(0,l.jsx)("input",{type:"submit",value:"Create",disabled:h})]})]})}},50:(e,t,n)=>{n.d(t,{ZP:()=>l});var s=n(7294),a=n(748),r=n(5893);const l={React:s,...s,App:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(8912).g;return(0,r.jsx)(t,{...e})}})},CafeForm:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(1022).m;return(0,r.jsx)(t,{...e})}})},StudySetForm:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(9017).k;return(0,r.jsx)(t,{...e})}})},Query:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(3963).A;return(0,r.jsx)(t,{...e})}})},BootstrapNode:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(3907).P;return(0,r.jsx)(t,{...e})}})},PaginatedQuery:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(6701).M;return(0,r.jsx)(t,{...e})}})}}},3907:(e,t,n)=>{n.d(t,{P:()=>h});var s=n(7294),a=n(5424),r=n.n(a),l=n(108),i=(n(8946),n(4096)),c=n(3729),o=n(8227),d=n(8008),u=n(5893);const h=()=>{const{session:e,graphQLClient:t}=(0,s.useContext)(i.m),{nodeOnline:n}=(0,s.useContext)(o.O),{setError:a}=(0,s.useContext)(c.E),[h,x]=(0,s.useState)(!1),[m,p]=(0,s.useState)(!1),[j,y]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1);(0,s.useEffect)((()=>{n||(y(!1),x(!1))}),[n]),(0,s.useEffect)((()=>{if(!h){const e=setInterval((()=>{(async()=>{try{let e=!1;for(const n of[d.O6,d.YE])(await t.request(l.Ps`
            query {
              all_${n} {
                totalCount
              }
            }
          `))[`all_${n}`].totalCount>0&&(e=!0);x(!0),y(e)}catch{x(!1),y(!1)}})()}),1e3);return()=>clearInterval(e)}}),[t,n,h,a]);const v=!n||m||h||f,g=!n||!h||j||f;return(0,u.jsxs)("div",{id:"bootstrap-node",children:[(0,u.jsxs)("div",{children:["node online:",n?(0,u.jsx)("span",{children:" \u2705"}):(0,u.jsx)("span",{children:" \u274c"})]}),(0,u.jsxs)("div",{children:["schema deployed:",h?(0,u.jsx)("span",{children:" \u2705"}):(0,u.jsx)("span",{children:" \u274c"})]}),(0,u.jsxs)("div",{children:["seed data published:"," ",j?(0,u.jsx)("span",{children:" \u2705"}):(0,u.jsx)("span",{children:" \u274c"})]}),(0,u.jsx)("button",{disabled:v,onClick:async()=>{try{b(!0);const t=await fetch(d.kw),n=await t.text(),s=r().parse(n);for(const{entry:a,operation:r}of Array.from(s.commits))await e.publish(a,r);p(!0)}catch(t){a(`${t}`),p(!1)}finally{b(!1)}},children:"Deploy Schema"}),(0,u.jsx)("button",{disabled:g,onClick:async()=>{try{b(!0);for(const t of[d.O6,d.YE]){const n=await fetch(`/seed-data/${t}.json`),s=await n.json();for(const a of s)await e.create(a,{schemaId:t})}y(!0)}catch(t){y(!1),a(`${t}`)}finally{b(!1)}},children:"Publish Seed Data"})]})}},6701:(e,t,n)=>{n.d(t,{M:()=>o});var s=n(7294),a=n(108),r=n(4096),l=n(3729),i=n(8008),c=n(5893);const o=e=>{let{queryBuilder:t}=e;const{graphQLClient:n}=(0,s.useContext)(r.m),{setError:o}=(0,s.useContext)(l.E),[d,u]=(0,s.useState)([]),[h,x]=(0,s.useState)(null),[m,p]=(0,s.useState)(null),[j,y]=(0,s.useState)(0),f=(0,s.useCallback)((async e=>{const s=t(e);try{let e=await n.request(a.Ps`
          ${s}
        `);e=e[`all_${i.YE}`],x(e.endCursor),u(e.documents),p(e.hasNextPage),y(j+1)}catch(r){o(`${r}`)}}),[j,n,t,o]);(0,s.useEffect)((()=>{h||f(h)}),[h,f]);return(0,c.jsxs)("div",{className:"vocabulary-pagination",children:[(0,c.jsx)("h2",{children:"Vocabulary"}),(0,c.jsx)("fieldset",{children:(0,c.jsx)("select",{id:"vocabulary",name:"vocabulary",size:d.length,children:d?d.map(((e,t)=>{const n=Number(d.length*(j-1))+t,s=e.meta.documentId,a=e.fields.word;return(0,c.jsxs)("option",{children:[n,": ",a]},s)})):(0,c.jsx)("option",{value:"",children:"no data"},0)})}),(0,c.jsx)("button",{disabled:!m,onClick:e=>{e.preventDefault(),f(h)},children:"Next Page"})]})}},3963:(e,t,n)=>{n.d(t,{A:()=>o});var s=n(7294),a=n(108),r=n(9123),l=(n(8946),n(4096)),i=n(3729),c=n(5893);const o=e=>{let{query:t}=e;const[n,o]=(0,s.useState)("No results, is your node online?"),{graphQLClient:d}=(0,s.useContext)(l.m),{setError:u}=(0,s.useContext)(i.E),h=(0,s.useCallback)((async()=>{try{const e=await d.request(a.Ps`
        ${t}
      `);o(e)}catch(e){u(`${e}`)}}),[d,t,u]);return(0,s.useEffect)((()=>{h()}),[h]),(0,c.jsxs)("div",{id:"query-tutorial-results",children:[(0,c.jsx)("button",{onClick:h,children:"\u21bb"}),(0,c.jsx)(r.ZP,{src:n,theme:"default"})]})}},9017:(e,t,n)=>{n.d(t,{k:()=>u});var s=n(7294),a=n(3888),r=n(108),l=n(4096),i=n(3729),c=n(8008),o=n(8227),d=n(5893);const u=e=>{let{studySetsQuery:t}=e;const{graphQLClient:n,session:o}=(0,s.useContext)(l.m),{setError:u,setSuccess:x}=(0,s.useContext)(i.E),[m,p]=(0,s.useState)(null),[j,y]=(0,s.useState)([]),f=(0,s.useCallback)((async()=>{try{y(!0);const e=await n.request(r.Ps`
        ${t}
      `),s=Array.from(e[`all_${c.O6}`].documents);p(s),u(null)}catch(e){u(`${e}`)}finally{y(!1)}}),[n,u,t]);(0,s.useEffect)((()=>{t&&f()}),[n,p,u,t,f]);return(0,d.jsx)(h,{studySets:m,onAddVocabulary:async(e,t)=>{u(null),x(null);try{y(!0);const n=Number((new Date).getTime()),s=new a.F9({date_added:n,last_studied:n});s.insert("member","relation",e),s.insert("study_set","relation",t),s.insert("rating","float",0);const r=await o.create(s,{schemaId:c.Eo});x(`Created study set member with document id: ${r}`)}catch(n){u(n.message)}finally{y(!1)}},onRefresh:f,busy:j})},h=e=>{let{studySets:t,onAddVocabulary:n,busy:a,onRefresh:r}=e;const{nodeOnline:l}=(0,s.useContext)(o.O),[i,c]=(0,s.useState)({studySet:"",vocabulary:""}),u=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))},h=!i.studySet||!i.vocabulary||a||!l;return(0,d.jsxs)("div",{id:"study-sets-form",children:[(0,d.jsx)("div",{className:"button-wrapper",children:(0,d.jsx)("button",{disabled:h,onClick:r,children:"\u21bb"})}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(i.vocabulary,i.studySet),c({studySet:"",vocabulary:""})},children:[(0,d.jsxs)("fieldset",{children:[(0,d.jsx)("label",{htmlFor:"studySet",children:"Study Sets"}),(0,d.jsx)("select",{disabled:h,id:"studySet",name:"studySet",size:3,value:i.studySet,onChange:u,children:t?t.map((e=>{const t=e.meta.documentId,n=e.fields.title;return(0,d.jsx)("option",{value:t,children:n},t)})):(0,d.jsx)("option",{value:"",children:"no study sets found..."},0)})]}),(0,d.jsxs)("fieldset",{children:[(0,d.jsx)("label",{htmlFor:"vocabulary",children:"Vocabulary ID"}),(0,d.jsx)("input",{disabled:h,type:"text",id:"vocabulary",name:"vocabulary",value:i.vocabulary,onChange:u})]}),(0,d.jsx)("input",{type:"submit",value:"Add",disabled:h})]})]})}}}]);