"use strict";(self.webpackChunkhandbook=self.webpackChunkhandbook||[]).push([[6103],{324:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});n(7294);var s=n(512),a=n(5463),r=n(3702),l=n(9107),i=n(7306),o=n(9348),c=n(7325),d=n(3672),u=n(5893);function h(e){const{nextItem:t,prevItem:n}=e;return(0,u.jsxs)("nav",{className:"pagination-nav docusaurus-mt-lg","aria-label":(0,c.I)({id:"theme.blog.post.paginator.navAriaLabel",message:"Blog post page navigation",description:"The ARIA label for the blog posts pagination"}),children:[n&&(0,u.jsx)(d.Z,{...n,subLabel:(0,u.jsx)(c.Z,{id:"theme.blog.post.paginator.newerPost",description:"The blog post button label to navigate to the newer/previous post",children:"Newer Post"})}),t&&(0,u.jsx)(d.Z,{...t,subLabel:(0,u.jsx)(c.Z,{id:"theme.blog.post.paginator.olderPost",description:"The blog post button label to navigate to the older/next post",children:"Older Post"}),isNext:!0})]})}function m(){const{assets:e,metadata:t}=(0,l.C)(),{title:n,description:s,date:r,tags:i,authors:o,frontMatter:c}=t,{keywords:d}=c,h=e.image??c.image;return(0,u.jsxs)(a.d,{title:n,description:s,keywords:d,image:h,children:[(0,u.jsx)("meta",{property:"og:type",content:"article"}),(0,u.jsx)("meta",{property:"article:published_time",content:r}),o.some((e=>e.url))&&(0,u.jsx)("meta",{property:"article:author",content:o.map((e=>e.url)).filter(Boolean).join(",")}),i.length>0&&(0,u.jsx)("meta",{property:"article:tag",content:i.map((e=>e.label)).join(",")})]})}var x=n(7086),f=n(9501);function v(e){let{sidebar:t,children:n}=e;const{metadata:s,toc:a}=(0,l.C)(),{nextItem:r,prevItem:c,frontMatter:d,unlisted:m}=s,{hide_table_of_contents:v,toc_min_heading_level:p,toc_max_heading_level:j}=d;return(0,u.jsxs)(i.Z,{sidebar:t,toc:!v&&a.length>0?(0,u.jsx)(x.Z,{toc:a,minHeadingLevel:p,maxHeadingLevel:j}):void 0,children:[m&&(0,u.jsx)(f.Z,{}),(0,u.jsx)(o.Z,{children:n}),(r||c)&&(0,u.jsx)(h,{nextItem:r,prevItem:c})]})}function p(e){const t=e.content;return(0,u.jsx)(l.n,{content:e.content,isBlogPostPage:!0,children:(0,u.jsxs)(a.FG,{className:(0,s.Z)(r.k.wrapper.blogPages,r.k.page.blogPostPage),children:[(0,u.jsx)(m,{}),(0,u.jsx)(v,{sidebar:e.sidebar,children:(0,u.jsx)(t,{})})]})})}},7086:(e,t,n)=>{n.d(t,{Z:()=>c});n(7294);var s=n(512),a=n(2728);const r={tableOfContents:"tableOfContents_bqdL",docItemContainer:"docItemContainer_F8PC"};var l=n(5893);const i="table-of-contents__link toc-highlight",o="table-of-contents__link--active";function c(e){let{className:t,...n}=e;return(0,l.jsx)("div",{className:(0,s.Z)(r.tableOfContents,"thin-scrollbar",t),children:(0,l.jsx)(a.Z,{...n,linkClassName:i,linkActiveClassName:o})})}},2728:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(7294),a=n(107);function r(e){const t=e.map((e=>({...e,parentIndex:-1,children:[]}))),n=Array(7).fill(-1);t.forEach(((e,t)=>{const s=n.slice(2,e.level);e.parentIndex=Math.max(...s),n[e.level]=t}));const s=[];return t.forEach((e=>{const{parentIndex:n,...a}=e;n>=0?t[n].children.push(a):s.push(a)})),s}function l(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:s}=e;return t.flatMap((e=>{const t=l({toc:e.children,minHeadingLevel:n,maxHeadingLevel:s});return function(e){return e.level>=n&&e.level<=s}(e)?[{...e,children:t}]:t}))}function i(e){const t=e.getBoundingClientRect();return t.top===t.bottom?i(e.parentNode):t}function o(e,t){let{anchorTopOffset:n}=t;const s=e.find((e=>i(e).top>=n));if(s){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(i(s))?s:e[e.indexOf(s)-1]??null}return e[e.length-1]??null}function c(){const e=(0,s.useRef)(0),{navbar:{hideOnScroll:t}}=(0,a.L)();return(0,s.useEffect)((()=>{e.current=t?0:document.querySelector(".navbar").clientHeight}),[t]),e}function d(e){const t=(0,s.useRef)(void 0),n=c();(0,s.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:s,linkActiveClassName:a,minHeadingLevel:r,maxHeadingLevel:l}=e;function i(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(s),i=function(e){let{minHeadingLevel:t,maxHeadingLevel:n}=e;const s=[];for(let a=t;a<=n;a+=1)s.push(`h${a}.anchor`);return Array.from(document.querySelectorAll(s.join()))}({minHeadingLevel:r,maxHeadingLevel:l}),c=o(i,{anchorTopOffset:n.current}),d=e.find((e=>c&&c.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,n){n?(t.current&&t.current!==e&&t.current.classList.remove(a),e.classList.add(a),t.current=e):e.classList.remove(a)}(e,e===d)}))}return document.addEventListener("scroll",i),document.addEventListener("resize",i),i(),()=>{document.removeEventListener("scroll",i),document.removeEventListener("resize",i)}}),[e,n])}var u=n(4791),h=n(5893);function m(e){let{toc:t,className:n,linkClassName:s,isChild:a}=e;return t.length?(0,h.jsx)("ul",{className:a?void 0:n,children:t.map((e=>(0,h.jsxs)("li",{children:[(0,h.jsx)(u.Z,{to:`#${e.id}`,className:s??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,h.jsx)(m,{isChild:!0,toc:e.children,className:n,linkClassName:s})]},e.id)))}):null}const x=s.memo(m);function f(e){let{toc:t,className:n="table-of-contents table-of-contents__left-border",linkClassName:i="table-of-contents__link",linkActiveClassName:o,minHeadingLevel:c,maxHeadingLevel:u,...m}=e;const f=(0,a.L)(),v=c??f.tableOfContents.minHeadingLevel,p=u??f.tableOfContents.maxHeadingLevel,j=function(e){let{toc:t,minHeadingLevel:n,maxHeadingLevel:a}=e;return(0,s.useMemo)((()=>l({toc:r(t),minHeadingLevel:n,maxHeadingLevel:a})),[t,n,a])}({toc:t,minHeadingLevel:v,maxHeadingLevel:p});return d((0,s.useMemo)((()=>{if(i&&o)return{linkClassName:i,linkActiveClassName:o,minHeadingLevel:v,maxHeadingLevel:p}}),[i,o,v,p])),(0,h.jsx)(x,{toc:j,className:n,linkClassName:i,...m})}},9501:(e,t,n)=>{n.d(t,{Z:()=>m});n(7294);var s=n(512),a=n(7325),r=n(1514),l=n(5893);function i(){return(0,l.jsx)(a.Z,{id:"theme.unlistedContent.title",description:"The unlisted content banner title",children:"Unlisted page"})}function o(){return(0,l.jsx)(a.Z,{id:"theme.unlistedContent.message",description:"The unlisted content banner message",children:"This page is unlisted. Search engines will not index it, and only users having a direct link can access it."})}function c(){return(0,l.jsx)(r.Z,{children:(0,l.jsx)("meta",{name:"robots",content:"noindex, nofollow"})})}var d=n(3702),u=n(7065);function h(e){let{className:t}=e;return(0,l.jsx)(u.Z,{type:"caution",title:(0,l.jsx)(i,{}),className:(0,s.Z)(t,d.k.common.unlistedBanner),children:(0,l.jsx)(o,{})})}function m(e){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c,{}),(0,l.jsx)(h,{...e})]})}},7065:(e,t,n)=>{n.d(t,{Z:()=>r});n(7294);var s=n(9114),a=n(5893);function r(e){let t;return"note"===e.type?t="\ud83d\udc27":"info"===e.type?t="\ud83d\udc3c":"caution"===e.type?t="\ud83c\udf29\ufe0f":"danger"===e.type?t="\ud83d\ude48":"tip"===e.type&&(t="\ud83d\udc3b\u200d\u2744\ufe0f"),(0,a.jsx)(s.Z,{icon:(0,a.jsx)("span",{className:"panda-icon",children:t}),...e})}},8912:(e,t,n)=>{n.d(t,{g:()=>x});var s=n(7294),a=n(3888);const r=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{(async()=>{await(0,a.Y2)(),r(!0)})()}),[]),n?t:null};var l=n(4096),i=n(3729),o=n(8227),c=n(5893);const d=e=>{let{header:t,sayHello:n}=e;return(0,c.jsxs)("header",{className:"header",children:[(0,c.jsx)("h1",{children:t}),n?(0,c.jsx)(l.m.Consumer,{children:e=>{let{publicKey:t}=e;return(0,c.jsxs)("p",{className:"public-key",children:["Hello, ",t,"!"]})}}):null]})},u=()=>{const{error:e}=(0,s.useContext)(i.E);return e?(0,c.jsx)("div",{className:"error",children:e}):null},h=()=>{const{success:e}=(0,s.useContext)(i.E);return e?(0,c.jsx)("div",{className:"success",children:e}):null},m=e=>{let{children:t,header:n}=e;return(0,c.jsxs)("div",{className:"app",children:[(0,c.jsx)(d,{header:n}),(0,c.jsx)("main",{children:t}),(0,c.jsx)(u,{}),(0,c.jsx)(h,{})]})},x=e=>{let{children:t,header:n="",sayHello:s=!1,endpoint:a}=e;return(0,c.jsx)(r,{children:(0,c.jsx)(l.f,{endpoint:a,children:(0,c.jsx)(i.x,{children:(0,c.jsx)(o.n,{children:(0,c.jsx)(m,{header:n,sayHello:s,children:t})})})})})}},3729:(e,t,n)=>{n.d(t,{E:()=>r,x:()=>l});var s=n(7294),a=n(5893);const r=s.createContext(),l=e=>{let{children:t}=e;const[n,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(null);return(0,a.jsx)(r.Provider,{value:{error:n,setError:l,success:i,setSuccess:o},children:t})}},8227:(e,t,n)=>{n.d(t,{O:()=>o,n:()=>c});var s=n(7294),a=n(108),r=n(4096),l=n(3729),i=n(5893);const o=s.createContext(),c=e=>{let{children:t}=e;const{graphQLClient:n}=(0,s.useContext)(r.m),{setError:c}=(0,s.useContext)(l.E),[d,u]=(0,s.useState)();return(0,s.useEffect)((()=>{const e=setInterval((()=>{(async()=>{try{await n.request(a.Ps`
          query checkNode {
            all_schema_definition_v1 {
              totalCount
            }
          }
        `),d||(c(null),u(!0))}catch(e){d&&(u(!1),c("Node offline"))}})()}),1e3);return()=>clearInterval(e)}),[n,d,c]),(0,i.jsx)(o.Provider,{value:{nodeOnline:d},children:t})}},4096:(e,t,n)=>{n.d(t,{f:()=>d,m:()=>c});var s=n(7294),a=n(3888),r=n(108),l=n(5893);const i="privateKey",o="http://localhost:2020";const c=s.createContext({publicKey:null,keyPair:null,session:null,graphQLClient:null,endpoint:null}),d=e=>{let{children:t,endpoint:n=o}=e;const[d,u]=(0,s.useState)(n),h=(0,s.useMemo)((()=>{const e=function(){const e=window.localStorage.getItem(i);if(e)return new a.sx(e);const t=new a.sx;return window.localStorage.setItem(i,t.privateKey()),t}(),t=new a.z_(`${d}/graphql`).setKeyPair(e),n=new r.g6(`${d}/graphql`);return{keyPair:e,publicKey:e.publicKey(),session:t,graphQLClient:n,ep:d}}),[d]);return(0,s.useEffect)((()=>{const e=setInterval((()=>{window.ENDPOINT&&window.ENDPOINT!=n&&u(window.ENDPOINT)}),1e3);return function(){clearInterval(e)}})),(0,l.jsx)(c.Provider,{value:h,children:t})}},8008:(e,t,n)=>{n.d(t,{Eo:()=>l,O6:()=>r,YE:()=>a,kw:()=>s});const s="/schemas/query-tutorial/schema.lock",a="vocabulary_0020840f74f3a3ca502c80b12ba54e5738c435d27e9c0717214a38173a3e31a75752",r="study_sets_002055142f8a42052fe558891fb33b707fa16367ae4ebba876ba900cf4870a352ad6",l="study_set_members_0020c2500c3088b01a98f4a7cfdab6037371ac64d4b929d4677daf39a3aa0c257612"},1022:(e,t,n)=>{n.d(t,{m:()=>i});var s=n(7294),a=n(4096),r=n(3729),l=n(5893);const i=e=>{let{createCafe:t}=e;const{session:n}=(0,s.useContext)(a.m),{setError:i,setSuccess:o}=(0,s.useContext)(r.E),[c,d]=(0,s.useState)({address:"123 Yummy St.",name:"Ice Cream Heaven",opening_year:2020}),u=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:"edible"===t?!e.edible:n})))},h=!c.address||!c.name||!c.opening_year;return(0,l.jsxs)("div",{className:"cafe-form",children:[(0,l.jsx)("h2",{children:"Create Cafe"}),(0,l.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(null),o(null);let s=null;try{s=await t(n,c)}catch(a){return void i(a.message)}o(`Created Cafe: ${s}`)},children:[(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("label",{htmlFor:"name",children:"name"}),(0,l.jsx)("input",{type:"text",id:"name",name:"name",value:c.name,onChange:u})]}),(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("label",{htmlFor:"address",children:"Address"}),(0,l.jsx)("input",{type:"text",id:"address",name:"address",value:c.address,onChange:u})]}),(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("label",{htmlFor:"opening_year",children:"Opening Year"}),(0,l.jsx)("input",{type:"number",id:"latin",name:"opening_year",value:c.opening_year,onChange:u})]}),(0,l.jsx)("input",{type:"submit",value:"Create",disabled:h})]})]})}},50:(e,t,n)=>{n.d(t,{ZP:()=>l});var s=n(7294),a=n(748),r=n(5893);const l={React:s,...s,App:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(8912).g;return(0,r.jsx)(t,{...e})}})},CafeForm:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(1022).m;return(0,r.jsx)(t,{...e})}})},StudySetForm:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(9017).k;return(0,r.jsx)(t,{...e})}})},Query:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(3963).A;return(0,r.jsx)(t,{...e})}})},BootstrapNode:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(3907).P;return(0,r.jsx)(t,{...e})}})},PaginatedQuery:function(e){return(0,r.jsx)(a.Z,{fallback:(0,r.jsx)("div",{children:"..."}),children:()=>{const t=n(6701).M;return(0,r.jsx)(t,{...e})}})}}},3907:(e,t,n)=>{n.d(t,{P:()=>h});var s=n(7294),a=n(5424),r=n.n(a),l=n(108),i=(n(8946),n(4096)),o=n(3729),c=n(8227),d=n(8008),u=n(5893);const h=()=>{const{session:e,graphQLClient:t}=(0,s.useContext)(i.m),{nodeOnline:n}=(0,s.useContext)(c.O),{setError:a}=(0,s.useContext)(o.E),[h,m]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),[v,p]=(0,s.useState)(!1),[j,b]=(0,s.useState)(!1);(0,s.useEffect)((()=>{n||(p(!1),m(!1))}),[n]),(0,s.useEffect)((()=>{if(!h){const e=setInterval((()=>{(async()=>{try{let e=!1;for(const n of[d.O6,d.YE])(await t.request(l.Ps`
            query {
              all_${n} {
                totalCount
              }
            }
          `))[`all_${n}`].totalCount>0&&(e=!0);m(!0),p(e)}catch{m(!1),p(!1)}})()}),1e3);return()=>clearInterval(e)}}),[t,n,h,a]);const y=!n||x||h||j,g=!n||!h||v||j;return(0,u.jsxs)("div",{id:"bootstrap-node",children:[(0,u.jsxs)("div",{children:["node online:",n?(0,u.jsx)("span",{children:" \u2705"}):(0,u.jsx)("span",{children:" \u274c"})]}),(0,u.jsxs)("div",{children:["schema deployed:",h?(0,u.jsx)("span",{children:" \u2705"}):(0,u.jsx)("span",{children:" \u274c"})]}),(0,u.jsxs)("div",{children:["seed data published:"," ",v?(0,u.jsx)("span",{children:" \u2705"}):(0,u.jsx)("span",{children:" \u274c"})]}),(0,u.jsx)("button",{disabled:y,onClick:async()=>{try{b(!0);const t=await fetch(d.kw),n=await t.text(),s=r().parse(n);for(const{entry:a,operation:r}of Array.from(s.commits))await e.publish(a,r);f(!0)}catch(t){a(`${t}`),f(!1)}finally{b(!1)}},children:"Deploy Schema"}),(0,u.jsx)("button",{disabled:g,onClick:async()=>{try{b(!0);for(const t of[d.O6,d.YE]){const n=await fetch(`/seed-data/${t}.json`),s=await n.json();for(const a of s)await e.create(a,{schemaId:t})}p(!0)}catch(t){p(!1),a(`${t}`)}finally{b(!1)}},children:"Publish Seed Data"})]})}},6701:(e,t,n)=>{n.d(t,{M:()=>c});var s=n(7294),a=n(108),r=n(4096),l=n(3729),i=n(8008),o=n(5893);const c=e=>{let{queryBuilder:t}=e;const{graphQLClient:n}=(0,s.useContext)(r.m),{setError:c}=(0,s.useContext)(l.E),[d,u]=(0,s.useState)([]),[h,m]=(0,s.useState)(null),[x,f]=(0,s.useState)(null),[v,p]=(0,s.useState)(0),j=(0,s.useCallback)((async e=>{const s=t(e);try{let e=await n.request(a.Ps`
          ${s}
        `);e=e[`all_${i.YE}`],m(e.endCursor),u(e.documents),f(e.hasNextPage),p(v+1)}catch(r){c(`${r}`)}}),[v,n,t,c]);(0,s.useEffect)((()=>{h||j(h)}),[h,j]);return(0,o.jsxs)("div",{className:"vocabulary-pagination",children:[(0,o.jsx)("h2",{children:"Vocabulary"}),(0,o.jsx)("fieldset",{children:(0,o.jsx)("select",{id:"vocabulary",name:"vocabulary",size:d.length,children:d?d.map(((e,t)=>{const n=Number(d.length*(v-1))+t,s=e.meta.documentId,a=e.fields.word;return(0,o.jsxs)("option",{children:[n,": ",a]},s)})):(0,o.jsx)("option",{value:"",children:"no data"},0)})}),(0,o.jsx)("button",{disabled:!x,onClick:e=>{e.preventDefault(),j(h)},children:"Next Page"})]})}},3963:(e,t,n)=>{n.d(t,{A:()=>c});var s=n(7294),a=n(108),r=n(9123),l=(n(8946),n(4096)),i=n(3729),o=n(5893);const c=e=>{let{query:t}=e;const[n,c]=(0,s.useState)("No results, is your node online?"),{graphQLClient:d}=(0,s.useContext)(l.m),{setError:u}=(0,s.useContext)(i.E),h=(0,s.useCallback)((async()=>{try{const e=await d.request(a.Ps`
        ${t}
      `);c(e)}catch(e){u(`${e}`)}}),[d,t,u]);return(0,s.useEffect)((()=>{h()}),[h]),(0,o.jsxs)("div",{id:"query-tutorial-results",children:[(0,o.jsx)("button",{onClick:h,children:"\u21bb"}),(0,o.jsx)(r.ZP,{src:n,theme:"default"})]})}},9017:(e,t,n)=>{n.d(t,{k:()=>u});var s=n(7294),a=n(3888),r=n(108),l=n(4096),i=n(3729),o=n(8008),c=n(8227),d=n(5893);const u=e=>{let{studySetsQuery:t}=e;const{graphQLClient:n,session:c}=(0,s.useContext)(l.m),{setError:u,setSuccess:m}=(0,s.useContext)(i.E),[x,f]=(0,s.useState)(null),[v,p]=(0,s.useState)([]),j=(0,s.useCallback)((async()=>{try{p(!0);const e=await n.request(r.Ps`
        ${t}
      `),s=Array.from(e[`all_${o.O6}`].documents);f(s),u(null)}catch(e){u(`${e}`)}finally{p(!1)}}),[n,u,t]);(0,s.useEffect)((()=>{t&&j()}),[n,f,u,t,j]);return(0,d.jsx)(h,{studySets:x,onAddVocabulary:async(e,t)=>{u(null),m(null);try{p(!0);const n=Number((new Date).getTime()),s=new a.F9({date_added:n,last_studied:n});s.insert("member","relation",e),s.insert("study_set","relation",t),s.insert("rating","float",0);const r=await c.create(s,{schemaId:o.Eo});m(`Created study set member with document id: ${r}`)}catch(n){u(n.message)}finally{p(!1)}},onRefresh:j,busy:v})},h=e=>{let{studySets:t,onAddVocabulary:n,busy:a,onRefresh:r}=e;const{nodeOnline:l}=(0,s.useContext)(c.O),[i,o]=(0,s.useState)({studySet:"",vocabulary:""}),u=e=>{const{name:t,value:n}=e.target;o((e=>({...e,[t]:n})))},h=!i.studySet||!i.vocabulary||a||!l;return(0,d.jsxs)("div",{id:"study-sets-form",children:[(0,d.jsx)("div",{className:"button-wrapper",children:(0,d.jsx)("button",{disabled:h,onClick:r,children:"\u21bb"})}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(i.vocabulary,i.studySet),o({studySet:"",vocabulary:""})},children:[(0,d.jsxs)("fieldset",{children:[(0,d.jsx)("label",{htmlFor:"studySet",children:"Study Sets"}),(0,d.jsx)("select",{disabled:h,id:"studySet",name:"studySet",size:3,value:i.studySet,onChange:u,children:t?t.map((e=>{const t=e.meta.documentId,n=e.fields.title;return(0,d.jsx)("option",{value:t,children:n},t)})):(0,d.jsx)("option",{value:"",children:"no study sets found..."},0)})]}),(0,d.jsxs)("fieldset",{children:[(0,d.jsx)("label",{htmlFor:"vocabulary",children:"Vocabulary ID"}),(0,d.jsx)("input",{disabled:h,type:"text",id:"vocabulary",name:"vocabulary",value:i.vocabulary,onChange:u})]}),(0,d.jsx)("input",{type:"submit",value:"Add",disabled:h})]})]})}}}]);